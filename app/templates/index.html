<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>The Minimal Need | Code for South Africa </title>

  <!-- Bootstrap -->
  <link href="static\bootstrap\css\bootstrap.min.css" rel="stylesheet">
  <link href="static\bootstrap\css\bootstrap-select.min.css" rel="stylesheet">
  <link href="static\slider\css\bootstrap-slider.css" rel="stylesheet">
  <link href="static\styles.css" rel="stylesheet">


  <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
  <!--[if lt IE 9]>
  <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
  <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
  <![endif]-->
</head>
<body>

<div class="container display-results display-assumptions" style="display: none;">
  <div class="page-header">
    <h1>The Minimal Need <small>Understanding the cost of living in South Africa</small></h1>
  </div>
</div>

<div class="container display-landing">
  <div class="row text-center">
    <div class="jumbotron">
      <h1>The Minimal Need</h1>
      <p class="lead">Understanding the cost of a minimal standard of living in South Africa</p>
    </div>
    <hr>
  </div>
</div>

<div class="container display-landing display-results display-assumptions">
  <div class="row">
    <div class="col-md-10 col-md-offset-1">
      <div class="row">
        <div class="col-sm-8 col-sm-offset-2">
          <form id="input-form" role="form">
            <div class="form-group">
              <label class="control-label lead" for="pay-amount">How much do you pay your household worker?</label><br>
              <div class="row">
                <div class="col-xs-4">
                  <input  class="form-control"
                          type="text"
                          name="pay-amount"
                          id="pay-amount"
                          placeholder="Rand"
                      />
                </div>
                <div class="col-xs-5">
                  <select class="selectpicker" name="pay-rate" id ="pay-rate">
                    <option value="day" selected>per day</option>
                    <option value="week">per week</option>
                    <option value="month">per month</option>
                  </select>
                </div>
              </div>
            </div>

            <div class="form-group">
              <label for="household-size" class="lead">Including your household worker, how large is their household?</label><br>
              <input
                  id="household-size"
                  class="slider"
                  style="width: 500px;"
                  type="text"
                  name="household-size"
                  data-slider-min="1"
                  data-slider-max="20"
                  data-slider-step="1"
                  value="3"
                  data-slider-value="3"
                  data-slider-formater="people"/><br>
            </div>
            <p class="text-muted">75% of domestic workers are known to be sole income providers for their households (NIDS 2012).</p><br>
            <div class="col-sm-8 col-sm-offset-2">
              <button id="go-button" class="btn btn-primary btn-block btn-lg display-landing">Calculate expenses</button>
            </div>
          </form>
        </div>
      </div>

      <hr class="display-landing">
    </div>
  </div>
</div>

<div class="container display-results display-assumptions" style="display: none;">
  <div class="row">
    <h2>You pay an equivalent of <span id="output-amount" class="label">R0</span> per month.</h2>

    <p class="text-muted">*We assume full time employment at five days a week and a little over four weeks a month.</p>

    <h2>
      You are paying <span id="output-percentage" class="label">0%</span> of the household's minimal need of <span id="output-monthly-need">R0</span>.
    </h2>
    
    <br>
    <!--div class="progress">
      <div class="progress-bar" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: 60%;">
        <span class="sr-only" id="output-percentage">60% Complete</span>
      </div>
    </div-->

    <p class="lead"><span id="output-statement"></span></p>
  </div>
  <div class="row">
    <div class="col-sm-8 col-sm-offset-2">
      <button id="show-assumptions-btn" class="btn btn-primary btn-block btn-lg display-results">Show assumptions</button>
    </div>
  </div>
</div>

<div id="assumption-container" class="container display-assumptions" style="display: none;">
<div class="row">

<div class="panel-group" id="accordion">

<!-- Food Panel-->
<div class="panel panel-default">
  <div class="panel-heading" data-toggle="collapse" data-parent="#accordion" data-target="#panel-food-expenses">
    <h4 class="panel-title">
      <span>
        Food Cost <span id="food-total" class="pull-right">R...</span>
      </span>
    </h4>
  </div>
  <div id="panel-food-expenses" class="panel-collapse collapse in">
    <div class="panel-body">
      <div class="form-group">
        <label for="food-cost" class="lead">Providing 2000 calories per person per day.</label><br>
        <p>Using consumer price index data on food (April 2014) and a selected basket of goods we estimate that the daily average cost per person for attaining 2000 calories is R27 (R815 per month per person). </p>
        <p>This assumption is not set in stone however. Try our <a href="">food price calculator</a> to see what you could spend in a day to attain your minimal calorie intake.</p>
        <input
            id="food-cost"
            class="slider"
            enabled="false"
            style="width: 500px;"
            type="text"
            name="food-cost"
            data-slider-min="5"
            data-slider-max="100"
            data-slider-step="1"
            value="27"
            data-slider-value="27"
            data-slider-formater="rand"/><br>
      </div>
    </div>
  </div>
</div>
<!-- Food Panel end-->

<!-- Transportation Panel-->
<div class="panel panel-default">
  <div class="panel-heading" data-toggle="collapse" data-parent="#accordion" data-target="#panel-transport-expenses">
    <h4 class="panel-title">
      <span>
        Transportation Cost <span id="transport-total" class="pull-right">R...</span>
      </span>
    </h4>
  </div>
  <div id="panel-transport-expenses" class="panel-collapse collapse">
    <div class="panel-body">
      <div class="form-group">
        <label for="transport-cost" class="lead">Travel cost for your domestic worker.</label><br>
        <p>Travel costs are known to be high for domestic workers. We assume a need of R14 one way to get to work based on an informal survey of domestic workers in Cape Town.</p>
        <input
            id="transport-cost"
            class="slider"
            enabled="false"
            style="width: 500px;"
            type="text"
            name="transport-cost"
            data-slider-min="5"
            data-slider-max="50"
            data-slider-step="1"
            value="14"
            data-slider-value="14"
            data-slider-formater="rand"/><br>
      </div>
      <div class="col-xs-7">
        <label for="transport-direction" class="lead">Is this cost one way or for a roundtrip?</label><br>
        <select class="selectpicker" name="transport-direction" id ="transport-direction"><br>
          <option value="oneway" selected>one way</option>
          <option value="roundtrip">round trip</option>
        </select>
      </div>

    </div>
  </div>
</div>
<!-- Transportation Panel end-->

<!-- Rent Panel-->
<div class="panel panel-default">
  <div class="panel-heading" data-toggle="collapse" data-parent="#accordion" data-target="#panel-rent-expenses">
    <h4 class="panel-title">
      <span>
        Housing Cost <span id="rent-total" class="pull-right">R...</span>
      </span>
    </h4>
  </div>
  <div id="panel-rent-expenses" class="panel-collapse collapse">
    <div class="panel-body">
      <div class="form-group">
        <label for="rent-cost" class="lead">The cost of rent and utilities.</label><br>
        <p>Generally speaking, higher rents are associated with better provision of sanitation services and lower crime rates.</p>
        <input
            id="rent-cost"
            class="slider"
            enabled="false"
            style="width: 500px;"
            type="text"
            name="rent-cost"
            data-slider-min="200"
            data-slider-max="1500"
            data-slider-step="100"
            value="500"
            data-slider-value="500"
            data-slider-formater="rand"/><br>
      </div>
    </div>
  </div>
</div>
<!-- Rent Panel end-->

<!-- Health Panel-->
<div class="panel panel-default">
  <div class="panel-heading" data-toggle="collapse" data-parent="#accordion" data-target="#panel-health-expenses">
    <h4 class="panel-title">
      <span>
        Healthcare Cost <span id="health-total" class="pull-right">R...</span>
      </span>
    </h4>
  </div>
  <div id="panel-health-expenses" class="panel-collapse collapse">
    <div class="panel-body">
      <div class="form-group">
        <label for="rent-cost" class="lead">Allocation for monthly healthcare needs</label><br>
        <p>Healthcare consists of having enough money for public consultancies which cost R39 per visit and for medicines. Healthcare costs can also involve health insurance which can cost at least R299/month.</p>
        <input
            id="health-cost"
            class="slider"
            enabled="false"
            style="width: 500px;"
            type="text"
            name="health-cost"
            data-slider-min="0"
            data-slider-max="300"
            data-slider-step="10"
            value="40"
            data-slider-value="40"
            data-slider-formater="rand"/><br>
      </div>
    </div>
  </div>
</div>
<!-- Health Panel end-->

<!-- Education Panel-->
<div class="panel panel-default">
  <div class="panel-heading" data-toggle="collapse" data-parent="#accordion" data-target="#panel-education-expenses">
    <h4 class="panel-title">
      <span>
        Education Cost<span id="education-total" class="pull-right">R...</span>
      </span>
    </h4>
  </div>
  <div id="panel-education-expenses" class="panel-collapse collapse">
    <div class="panel-body">
      <div class="form-group">
        <label for="education-cost" class="lead">The cost of sending kids to school for a household</label>
        <h5>Expenses include stationery, uniform, textbooks, and even transportation costs. </h5>
        <input
            id="education-cost"
            class="slider"
            enabled="false"
            style="width: 500px;"
            type="text"
            name="education-cost"
            data-slider-min="0"
            data-slider-max="1000"
            data-slider-step="100"
            value="100"
            data-slider-value="100"
            data-slider-formater="rand"/><br>
        <h5>Number of school aged children. We assumed two individuals in the household were out of school.</h5><br>
        <input
            id="education-kids"
            class="slider"
            enabled="false"
            style="width: 500px;"
            type="text"
            name="education-kids"
            data-slider-min="0"
            data-slider-max="10"
            data-slider-step="1"
            value="2"
            data-slider-value="2"
            data-slider-formater="children"/><br>
      </div>
    </div>
  </div>
</div>
<!-- Education Panel end-->

<!-- Communication Panel-->
<div class="panel panel-default">
  <div class="panel-heading" data-toggle="collapse" data-parent="#accordion" data-target="#panel-communication-expenses">
    <h4 class="panel-title">
      <span>
        Communications Cost<span id="communication-total" class="pull-right">R...</span>
      </span>
    </h4>
  </div>
  <div id="panel-communication-expenses" class="panel-collapse collapse">
    <div class="panel-body">
      <div class="form-group">
        <label for="communication-cost" class="lead">Communication costs</label><br>
        <h5> Communications are necessary for staying in touch with families, friends, accessing news, and for emergencies.</h5>
        <input
            id="communication-cost"
            class="slider"
            enabled="false"
            style="width: 500px;"
            type="text"
            name="communication-cost"
            data-slider-min="0"
            data-slider-max="1000"
            data-slider-step="100"
            value="100"
            data-slider-value="100"
            data-slider-formater="rand"/><br>
      </div>
    </div>
  </div>
</div>
<!-- Communication Panel end-->

<!-- Recreation Panel end-->
<div class="panel panel-default">
  <div class="panel-heading" data-toggle="collapse" data-parent="#accordion" data-target="#panel-recreation-expenses">
    <h4 class="panel-title">
      <span>
        Recreation Cost<span id="recreation-total" class="pull-right">R...</span>
      </span>
    </h4>
  </div>
  <div id="panel-recreation-expenses" class="panel-collapse collapse">
    <div class="panel-body">
      <div class="form-group">
        <label for="recreation-cost" class="lead">Recreation costs</label><br>
        <h5> It is always good to take time out from work and managing a household. Everyone needs a break!</h5>
        <input
            id="recreation-cost"
            class="slider"
            enabled="false"
            style="width: 500px;"
            type="text"
            name="recreation-cost"
            data-slider-min="0"
            data-slider-max="1000"
            data-slider-step="50"
            value="100"
            data-slider-value="100"
            data-slider-formater="rand"/><br>
      </div>
    </div>
  </div>
</div>
<!-- Recreation Panel end-->

<!-- Other Panel end-->
<div class="panel panel-default">
  <div class="panel-heading" data-toggle="collapse" data-parent="#accordion" data-target="#panel-other-expenses">
    <h4 class="panel-title">
      <span>
        Other Costs<span id="other-total" class="pull-right">R...</span>
      </span>
    </h4>
  </div>
  <div id="panel-other-expenses" class="panel-collapse collapse">
    <div class="panel-body">
      <div class="form-group">
        <label for="other-cost" class="lead">Other costs</label><br>
        <h5> These include clothing, household items, personal care, and emergency expenses.</h5>
        <input
            id="other-cost"
            class="slider"
            enabled="false"
            style="width: 500px;"
            type="text"
            name="other-cost"
            data-slider-min="0"
            data-slider-max="1000"
            data-slider-step="50"
            value="200"
            data-slider-value="200"
            data-slider-formater="rand"/><br>
      </div>
    </div>
  </div>
</div>


<!-- Other Panel end-->
</div>
</div>
</div>

<div id="footer">
  <div class="col-lg-12 text-center">
    <p id="attribution"><a data-toggle="modal" data-target="#myModal">Read more</a> about this tool. Brought to you by <a href="http://www.code4sa.org" target="_blank">Code4SA</a>.</p>
  </div>
</div>

<!-- Modal -->
<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
        <h3 class="modal-title" id="myModalLabel">The Minimal Need - Description</h3>
      </div>
      <div class="modal-body">
        <p>Using available data on consumer prices in South Africa, we developed a welfare standard we call <strong>The Minimal Need</strong>. </p><br>
        <h4>Here's how this tool works:</h4>
        <ol>
          <li>We ask what you pay (or would pay) your domestic worker.</li>
          <li>We show you where your pay rate stands compared to The Minimal Need.</li>
          <li>Lastly, we show you our calculations and allow you to alter our assumptions contextualize the tool to you.</li>
        </ol>
        <br>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-success btn-block" data-dismiss="modal">Get Started!</button>
      </div>
    </div>
  </div>
</div>

<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="static\bootstrap\js\bootstrap.min.js"></script>
<script src="static\bootstrap\js\bootstrap-select.min.js"></script>
<script src="static\slider\js\bootstrap-slider.js"></script>
<script src="static\main.js"></script>


<script>

  $(document).ready(function(){

    $("#pay-amount").focus();

    // initialize dropdown selects
    $("#pay-rate").selectpicker();
    $('#assumption-container .selectpicker').selectpicker().on("change",function(){
      update_output();
    });

    // update on click
    $("#go-button").on('click', function(e){
      e.preventDefault();
      if (update_output())
      {
        update_display('display-results');
        $("#input-form input").on("change", function(){
          update_output();
        })
      }
    })

    $("#show-assumptions-btn").on('click', function(){
      update_display('display-assumptions');
    })

    function rand_formater(value) {
      return value + ' rand';
    }

    function child_formater(value) {
      if(value==1)
        return '1 child';
      else
        return value + ' children';
    }

    function people_formater(value) {
      if (value==1)
        return '1 person';
      else
        return value + ' people';
    }

    $("#accordion .panel").on('shown.bs.collapse', function(){
      $(this).find("input.slider").each(function(i){
        $(this).slider('refresh');
      })
    });

    $(this).find(".slider").each(function(i){
      var tmp_formater = rand_formater;
      if ($(this).attr("data-slider-formater") == "children")
        tmp_formater = child_formater;
      else if ($(this).attr("data-slider-formater") == "people")
        tmp_formater = people_formater;
      $(this).slider({
        tooltip: 'always',
        formater: tmp_formater
      }).on('slideStop', function(event){
        $(this).attr("data-slider-val", $(this).val())
        update_output()
      });
    })
  });
</script>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-48399585-9', 'auto');
  ga('send', 'pageview');

</script>

</body>
</html>